(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(20),i=n.n(o),s=n(59),u=n(60),l=n(15),m=n(46),p=n(10),E=n(27),d=n(49),_=n.n(d),f=n(69),b=n(70),h=n.n(b),C=Object(l.b)("item/add"),v=Object(l.b)("item/delete"),T=Object(l.b)("contacts/filter",(function(e){return{payload:e.target.value}})),O={headers:{"Content-Type":"application/json"}},R=Object(l.c)([],(a={},Object(E.a)(a,C,(function(e,t){return[].concat(Object(u.a)(e),[t.payload])})),Object(E.a)(a,v,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),y=Object(l.c)("",Object(E.a)({},T,(function(e,t){return t.payload}))),S=Object(p.c)({contacts:R,filter:y,loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"CONTACT_REQUEST_START":case"CONTACT_DELETE_START":return!0;case"CONTACT_REQUEST_SUCCESS":case"CONTACT_DELETE_SUCCESS":return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"CONTACT_REQUEST_ERROR":case"DELETE_ERROR":return!0;case"ERROR_RESET":return!1;default:return e}}}),g=Object(l.a)({reducer:S,middleware:[].concat(Object(u.a)(Object(l.d)()),[m.a])}),x=n(85),N=n(86),A=n(93),j=n(92),w=n(87),k=n(66),L=n(65),F=L.a().shape({name:L.b().min(2,"Must be longer than 2 characters").max(20,"Nice try, nobody has a first name that long").required("Enter a name"),number:L.b().min(8,"Must be longer than 8 characters").matches(/([0-9]{8})/,"must be a digits").required("Enter a number")}),U=n(45),M=n.n(U);function D(e){var t=e.addItem;return c.a.createElement(k.b,{initialValues:{name:"",number:""},validationSchema:F,onSubmit:function(e,n){var a=n.resetForm;t(Object(w.a)({},e)),a({})}},(function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return c.a.createElement("form",{onSubmit:a},c.a.createElement("input",{type:"text",value:t.name,onChange:n,name:"name",className:M.a.input,placeholder:"Enter name"}),c.a.createElement(k.a,{name:"name"},(function(e){return c.a.createElement("div",{className:M.a.errorMessage},e)})),c.a.createElement("input",{type:"text",value:t.number,onChange:n,name:"number",className:M.a.input,placeholder:"Enter number"}),c.a.createElement(k.a,{name:"number"},(function(e){return c.a.createElement("div",{className:M.a.errorMessage},e)})),c.a.createElement("button",{className:M.a.button,type:"submit"},"Add contact"))}))}var I=n(72),Q=n.n(I),B=function(e){var t=e.contact,n=e.name,a=e.number,r=e.deleteContact;return c.a.createElement("li",{className:Q.a.wrapper},n,": ",a,c.a.createElement("button",{className:Q.a.deleteBtn,onClick:function(){return r(t.id)}},"\ud83d\udfab"))},V=n(128),q=n(127),J=n(73),Z=n.n(J),z=n(48),G=n.n(z),K=function(e){var t=e.contactList,n=e.deleteContact;return c.a.createElement(V.a,{component:"ul",className:Z.a.list},t.map((function(e){return c.a.createElement(q.a,{key:e.id,classNames:G.a,timeout:500,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(B,{name:e.name,number:e.number,deleteContact:n,contact:e,className:Z.a.item}))})).reverse())},P=n(91),X=n.n(P),H=function(e){var t=e.handleFilter;return c.a.createElement("form",{className:X.a.wrapper},c.a.createElement("p",null,"Find contact by name"),c.a.createElement("input",{type:"text",onChange:t}))},W=(n(123),function(e){Object(A.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.setState({didMount:!0})}},{key:"render",value:function(){var e=this.state.didMount,t=this.props,n=t.contacts,a=t.filter,r=n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(q.a,{in:e,classNames:G.a,timeout:{enter:500,exit:500},mountOnEnter:!0},c.a.createElement("h2",{className:"title-phonebook"},"Phonebook")),c.a.createElement(D,{contacts:n,addItem:this.props.asyncAddItem}),c.a.createElement("h2",null,"Contacts"),c.a.createElement(q.a,{in:n.length>=2,classNames:G.a,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(H,{handleFilter:this.props.filterContacts})),c.a.createElement(K,{contactList:r,deleteContact:this.props.asyncDeleteItem}))}}]),n}(r.Component)),Y={asyncAddItem:function(e){return function(){var t=Object(f.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CONTACT_REQUEST_START"}),t.prev=1,n({type:"ERROR_RESET"}),t.next=5,h.a.post("http://localhost:5005/contacts",e,O);case 5:a=t.sent,n(C(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:"CONTACT_REQUEST_ERROR"});case 12:return t.prev=12,n({type:"CONTACT_REQUEST_SUCCESS"}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},asyncDeleteItem:function(e){return function(){var t=Object(f.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CONTACT_DELETE_START"}),t.prev=1,n({type:"ERROR_RESET"}),t.next=5,h.a.delete("http://localhost:5005/contacts/".concat(e));case 5:n(v(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"DELETE_ERROR"});case 11:return t.prev=11,n({type:"CONTACT_DELETE_SUCCESS"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},filterContacts:T},$=Object(s.b)((function(e,t){return{contacts:e.contacts,filter:e.filter}}),Y)(W),ee=(n(124),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null))});n(125);i.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{store:g},c.a.createElement(ee,null))),document.getElementById("root"))},45:function(e,t,n){e.exports={form:"Form_form__1s6Us",name:"Form_name__2Lilo",input:"Form_input__11obr",button:"Form_button__kzkMF",errorMessage:"Form_errorMessage__9ZraK"}},48:function(e,t,n){e.exports={enter:"slide_enter__3RARZ",enterActive:"slide_enterActive__13UxB",exit:"slide_exit__3epcS",exitActive:"slide_exitActive__nLG6B"}},72:function(e,t,n){e.exports={wrapper:"ContactListItem_wrapper__1uV9y",deleteBtn:"ContactListItem_deleteBtn__gifAd"}},73:function(e,t,n){e.exports={list:"list_list__3XsVL",item:"list_item__3Qa4R"}},91:function(e,t,n){e.exports={wrapper:"ContactsFilter_wrapper__1Sv_R"}},96:function(e,t,n){e.exports=n(126)}},[[96,1,2]]]);
//# sourceMappingURL=main.b3752cf8.chunk.js.map