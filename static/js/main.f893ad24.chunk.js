(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(22),u=n.n(o),i=n(31),l=n(61),s=n(17),m=n(49),p=n(11),E=n(29),d=n(52),f=n.n(d),_=n(70),b=n(71),h=n.n(b),C=Object(s.b)("item/add"),O=Object(s.b)("item/delete"),T=Object(s.b)("contacts/filter",(function(e){return{payload:e.target.value}})),v={headers:{"Content-Type":"application/json"}},R=Object(s.c)([],(a={},Object(E.a)(a,C,(function(e,t){return[].concat(Object(l.a)(e),[t.payload])})),Object(E.a)(a,O,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),y=Object(s.c)("",Object(E.a)({},T,(function(e,t){return t.payload}))),S=Object(p.c)({contacts:R,filter:y,loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"CONTACT_REQUEST_START":case"CONTACT_DELETE_START":return!0;case"CONTACT_REQUEST_SUCCESS":case"CONTACT_DELETE_SUCCESS":return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"CONTACT_REQUEST_ERROR":case"DELETE_ERROR":return!0;case"ERROR_RESET":return!1;default:return e}}}),g=Object(s.a)({reducer:S,middleware:[].concat(Object(l.a)(Object(s.d)()),[m.a])}),j=n(86),x=n(87),N=n(95),A=n(94),w=n(88),F=n(67),k=n(66),L=k.a().shape({name:k.b().min(2,"Must be longer than 2 characters").max(20,"Nice try, nobody has a first name that long").required("Enter a name"),number:k.b().min(8,"Must be longer than 8 characters").matches(/([0-9]{8})/,"must be a digits").required("Enter a number")}),U=n(48),D=n.n(U);function M(e){var t=e.addItem;return c.a.createElement(F.b,{initialValues:{name:"",number:""},validationSchema:L,onSubmit:function(e,n){var a=n.resetForm;t(Object(w.a)({},e)),a({})}},(function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return c.a.createElement("form",{onSubmit:a},c.a.createElement("input",{type:"text",value:t.name,onChange:n,name:"name",className:D.a.input,placeholder:"Enter name"}),c.a.createElement(F.a,{name:"name"},(function(e){return c.a.createElement("div",{className:D.a.errorMessage},e)})),c.a.createElement("input",{type:"text",value:t.number,onChange:n,name:"number",className:D.a.input,placeholder:"Enter number"}),c.a.createElement(F.a,{name:"number"},(function(e){return c.a.createElement("div",{className:D.a.errorMessage},e)})),c.a.createElement("button",{className:D.a.button,type:"submit"},"Add contact"))}))}var I=n(73),B=n.n(I),Q=function(e){var t=e.contact,n=e.name,a=e.number,r=e.deleteContact;return c.a.createElement("li",{className:B.a.wrapper},n,": ",a,c.a.createElement("button",{className:B.a.deleteBtn,onClick:function(){return r(t.id)}},"\ud83d\udfab"))},V=n(150),q=n(149),J=n(74),Z=n.n(J),z=n(51),G=n.n(z),K=n(12),P=function(e){return e.contacts},X=function(e){return e.filter},H=function(e){return e.loader},W=function(e){return e.error},Y=Object(K.a)([P,X],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),$=n(92),ee=n.n($),te=(n(144),function(){return c.a.createElement(ee.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:1e3})}),ne=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Something went wrong"))},ae=function(e){var t=e.contactList,n=e.deleteContact,a=Object(i.c)((function(e){return H(e)})),r=Object(i.c)((function(e){return W(e)}));return c.a.createElement(V.a,{component:"ul",className:Z.a.list},a&&c.a.createElement(te,null),r&&c.a.createElement(ne,null),t.map((function(e){return c.a.createElement(q.a,{key:e.id,classNames:G.a,timeout:500,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(Q,{name:e.name,number:e.number,deleteContact:n,contact:e,className:Z.a.item}))})).reverse())},re=n(93),ce=n.n(re),oe=function(e){var t=e.handleFilter;return c.a.createElement("form",{className:ce.a.wrapper},c.a.createElement("p",null,"Find contact by name"),c.a.createElement("input",{type:"text",onChange:t}))},ue=(n(145),function(e){Object(N.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.setState({didMount:!0})}},{key:"render",value:function(){var e=this.state.didMount,t=this.props,n=t.contacts,a=t.filteredContacts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(q.a,{in:e,classNames:G.a,timeout:{enter:500,exit:500},mountOnEnter:!0},c.a.createElement("h2",{className:"title-phonebook"},"Phonebook")),c.a.createElement(M,{contacts:n,addItem:this.props.asyncAddItem}),c.a.createElement("h2",null,"Contacts"),c.a.createElement(q.a,{in:n.length>=2,classNames:G.a,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(oe,{handleFilter:this.props.filterContacts})),c.a.createElement(ae,{contactList:a,deleteContact:this.props.asyncDeleteItem}))}}]),n}(r.Component)),ie={asyncAddItem:function(e){return function(){var t=Object(_.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CONTACT_REQUEST_START"}),t.prev=1,n({type:"ERROR_RESET"}),t.next=5,h.a.post("http://localhost:5005/contacts",e,v);case 5:a=t.sent,n(C(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:"CONTACT_REQUEST_ERROR"});case 12:return t.prev=12,n({type:"CONTACT_REQUEST_SUCCESS"}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},asyncDeleteItem:function(e){return function(){var t=Object(_.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CONTACT_DELETE_START"}),t.prev=1,n({type:"ERROR_RESET"}),t.next=5,h.a.delete("http://localhost:5005/contacts/".concat(e));case 5:n(O(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"DELETE_ERROR"});case 11:return t.prev=11,n({type:"CONTACT_DELETE_SUCCESS"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},filterContacts:T},le=Object(i.b)((function(e){return{contacts:P(e),filter:X(e),error:W(e),loader:H(e),filteredContacts:Y(e)}}),ie)(ue),se=(n(146),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(le,null))});n(147);u.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{store:g},c.a.createElement(se,null))),document.getElementById("root"))},48:function(e,t,n){e.exports={form:"Form_form__1s6Us",name:"Form_name__2Lilo",input:"Form_input__11obr",button:"Form_button__kzkMF",errorMessage:"Form_errorMessage__9ZraK"}},51:function(e,t,n){e.exports={enter:"slide_enter__3RARZ",enterActive:"slide_enterActive__13UxB",exit:"slide_exit__3epcS",exitActive:"slide_exitActive__nLG6B"}},73:function(e,t,n){e.exports={wrapper:"ContactListItem_wrapper__1uV9y",deleteBtn:"ContactListItem_deleteBtn__gifAd"}},74:function(e,t,n){e.exports={list:"list_list__3XsVL",item:"list_item__3Qa4R"}},93:function(e,t,n){e.exports={wrapper:"ContactsFilter_wrapper__1Sv_R"}},98:function(e,t,n){e.exports=n(148)}},[[98,1,2]]]);
//# sourceMappingURL=main.f893ad24.chunk.js.map