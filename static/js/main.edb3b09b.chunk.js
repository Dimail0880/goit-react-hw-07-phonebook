(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(21),u=n.n(o),i=n(30),l=n(60),s=n(16),m=n(48),p=n(11),E=n(28),d=n(51),f=n.n(d),_=n(69),h=n(70),b=n.n(h),C=Object(s.b)("item/add"),O=Object(s.b)("item/delete"),T=Object(s.b)("contacts/filter",(function(e){return{payload:e.target.value}})),v={headers:{"Content-Type":"application/json"}},R=Object(s.c)([],(a={},Object(E.a)(a,C,(function(e,t){return[].concat(Object(l.a)(e),[t.payload])})),Object(E.a)(a,O,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),y=Object(s.c)("",Object(E.a)({},T,(function(e,t){return t.payload}))),S=Object(p.c)({contacts:R,filter:y,loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"CONTACT_REQUEST_START":case"CONTACT_DELETE_START":return!0;case"CONTACT_REQUEST_SUCCESS":case"CONTACT_DELETE_SUCCESS":return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"CONTACT_REQUEST_ERROR":case"DELETE_ERROR":return!0;case"ERROR_RESET":return!1;default:return e}}}),g=Object(s.a)({reducer:S,middleware:[].concat(Object(l.a)(Object(s.d)()),[m.a])}),x=n(85),N=n(86),j=n(94),A=n(93),w=n(87),F=n(66),k=n(65),L=k.a().shape({name:k.b().min(2,"Must be longer than 2 characters").max(20,"Nice try, nobody has a first name that long").required("Enter a name"),number:k.b().min(8,"Must be longer than 8 characters").matches(/([0-9]{8})/,"must be a digits").required("Enter a number")}),U=n(47),D=n.n(U);function M(e){var t=e.addItem;return c.a.createElement(F.b,{initialValues:{name:"",number:""},validationSchema:L,onSubmit:function(e,n){var a=n.resetForm;t(Object(w.a)({},e)),a({})}},(function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return c.a.createElement("form",{onSubmit:a},c.a.createElement("input",{type:"text",value:t.name,onChange:n,name:"name",className:D.a.input,placeholder:"Enter name"}),c.a.createElement(F.a,{name:"name"},(function(e){return c.a.createElement("div",{className:D.a.errorMessage},e)})),c.a.createElement("input",{type:"text",value:t.number,onChange:n,name:"number",className:D.a.input,placeholder:"Enter number"}),c.a.createElement(F.a,{name:"number"},(function(e){return c.a.createElement("div",{className:D.a.errorMessage},e)})),c.a.createElement("button",{className:D.a.button,type:"submit"},"Add contact"))}))}var I=n(72),B=n.n(I),Q=function(e){var t=e.contact,n=e.name,a=e.number,r=e.deleteContact;return c.a.createElement("li",{className:B.a.wrapper},n,": ",a,c.a.createElement("button",{className:B.a.deleteBtn,onClick:function(){return r(t.id)}},"\ud83d\udfab"))},V=n(149),q=n(148),J=n(73),Z=n.n(J),z=n(50),G=n.n(z),K=function(e){return e.contacts},P=function(e){return e.filter},X=function(e){return e.loader},H=function(e){return e.error},W=n(91),Y=n.n(W),$=(n(143),function(){return c.a.createElement(Y.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:1e3})}),ee=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Something went wrong"))},te=function(e){var t=e.contactList,n=e.deleteContact,a=Object(i.c)((function(e){return X(e)})),r=Object(i.c)((function(e){return H(e)}));return c.a.createElement(V.a,{component:"ul",className:Z.a.list},a&&c.a.createElement($,null),r&&c.a.createElement(ee,null),t.map((function(e){return c.a.createElement(q.a,{key:e.id,classNames:G.a,timeout:500,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(Q,{name:e.name,number:e.number,deleteContact:n,contact:e,className:Z.a.item}))})).reverse())},ne=n(92),ae=n.n(ne),re=function(e){var t=e.handleFilter;return c.a.createElement("form",{className:ae.a.wrapper},c.a.createElement("p",null,"Find contact by name"),c.a.createElement("input",{type:"text",onChange:t}))},ce=(n(144),function(e){Object(j.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.setState({didMount:!0})}},{key:"render",value:function(){var e=this.state.didMount,t=this.props,n=t.contacts,a=t.filter,r=n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(q.a,{in:e,classNames:G.a,timeout:{enter:500,exit:500},mountOnEnter:!0},c.a.createElement("h2",{className:"title-phonebook"},"Phonebook")),c.a.createElement(M,{contacts:n,addItem:this.props.asyncAddItem}),c.a.createElement("h2",null,"Contacts"),c.a.createElement(q.a,{in:n.length>=2,classNames:G.a,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(re,{handleFilter:this.props.filterContacts})),c.a.createElement(te,{contactList:r,deleteContact:this.props.asyncDeleteItem}))}}]),n}(r.Component)),oe={asyncAddItem:function(e){return function(){var t=Object(_.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CONTACT_REQUEST_START"}),t.prev=1,n({type:"ERROR_RESET"}),t.next=5,b.a.post("http://localhost:5005/contacts",e,v);case 5:a=t.sent,n(C(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:"CONTACT_REQUEST_ERROR"});case 12:return t.prev=12,n({type:"CONTACT_REQUEST_SUCCESS"}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},asyncDeleteItem:function(e){return function(){var t=Object(_.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CONTACT_DELETE_START"}),t.prev=1,n({type:"ERROR_RESET"}),t.next=5,b.a.delete("http://localhost:5005/contacts/".concat(e));case 5:n(O(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"DELETE_ERROR"});case 11:return t.prev=11,n({type:"CONTACT_DELETE_SUCCESS"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},filterContacts:T},ue=Object(i.b)((function(e){return{contacts:K(e),filter:P(e),error:H(e),loader:X(e)}}),oe)(ce),ie=(n(145),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ue,null))});n(146);u.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{store:g},c.a.createElement(ie,null))),document.getElementById("root"))},47:function(e,t,n){e.exports={form:"Form_form__1s6Us",name:"Form_name__2Lilo",input:"Form_input__11obr",button:"Form_button__kzkMF",errorMessage:"Form_errorMessage__9ZraK"}},50:function(e,t,n){e.exports={enter:"slide_enter__3RARZ",enterActive:"slide_enterActive__13UxB",exit:"slide_exit__3epcS",exitActive:"slide_exitActive__nLG6B"}},72:function(e,t,n){e.exports={wrapper:"ContactListItem_wrapper__1uV9y",deleteBtn:"ContactListItem_deleteBtn__gifAd"}},73:function(e,t,n){e.exports={list:"list_list__3XsVL",item:"list_item__3Qa4R"}},92:function(e,t,n){e.exports={wrapper:"ContactsFilter_wrapper__1Sv_R"}},97:function(e,t,n){e.exports=n(147)}},[[97,1,2]]]);
//# sourceMappingURL=main.edb3b09b.chunk.js.map